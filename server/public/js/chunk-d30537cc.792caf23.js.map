{"version":3,"sources":["webpack:///./src/components/Navbar.vue?940d","webpack:///./src/views/AdminEditUser.vue?6b52","webpack:///./src/components/AdminEditForm.vue?f490","webpack:///src/components/AdminEditForm.vue","webpack:///./src/components/AdminEditForm.vue?e0d1","webpack:///./src/components/AdminEditForm.vue","webpack:///src/views/AdminEditUser.vue","webpack:///./src/views/AdminEditUser.vue?75b7","webpack:///./src/views/AdminEditUser.vue","webpack:///./src/components/AdminEditForm.vue?54ef","webpack:///./src/apis/admin.js","webpack:///./src/components/Navbar.vue?8f59","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?9640","webpack:///./src/components/Navbar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","user","on","handleAfterSubmit","staticRenderFns","staticClass","$event","stopPropagation","preventDefault","handleSubmit","_m","_v","directives","name","rawName","value","expression","domProps","target","composing","$set","style","visibility","passwordHint","passwordCheckHint","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","isProcessing","_s","props","initialUser","type","Object","default","data","id","password","passwordCheck","isAdmin","created","computed","methods","watch","handler","length","deep","component","components","Navbar","AdminCreateForm","fetchUser","getToken","localStorage","getItem","getUsers","apiHelper","get","headers","Authorization","getUser","userId","postUser","formData","post","putUser","put","putRole","deleteUser","delete","currentUser","_e","logout","$store","commit","$router","push","icon","title"],"mappings":"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","file":"js/chunk-d30537cc.792caf23.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=3362cca6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=3362cca6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Navbar'),_c('br'),_c('br'),_c('br'),_c('AdminCreateForm',{attrs:{\"initial-user\":_vm.user},on:{\"after-submit\":_vm.handleAfterSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container py-5\"},[_c('form',{staticClass:\"w-100\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_vm._m(0),_c('div',{staticClass:\"form-label-group mb-2\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"name\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-2\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control\",attrs:{\"id\":\"email\",\"name\":\"email\",\"type\":\"email\",\"placeholder\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-3\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")]),_c('span',{staticClass:\"warning\",style:({visibility: _vm.passwordHint ? 'visible' : 'hidden'})},[_vm._v(\"The password length should be greater than 8.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-3\"},[_c('label',{attrs:{\"for\":\"password-check\"}},[_vm._v(\"Password Check\")]),_c('span',{staticClass:\"warning\",style:({visibility: _vm.passwordCheckHint ? 'visible' : 'hidden'})},[_vm._v(\"Does not match the password above.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.passwordCheck),expression:\"user.passwordCheck\"}],staticClass:\"form-control\",attrs:{\"id\":\"password-check\",\"name\":\"passwordCheck\",\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.user.passwordCheck)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"passwordCheck\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group mb-2\"},[_c('label',{attrs:{\"for\":\"isAdmin\"}},[_vm._v(\"Admin?\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.isAdmin),expression:\"user.isAdmin\"}],staticClass:\"form-control\",attrs:{\"name\":\"isAdmin\",\"id\":\"isAdmin\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.user, \"isAdmin\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\",\"value\":\"1\"}},[_vm._v(\"Yes\")]),_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\"No\")])])]),_c('button',{staticClass:\"btn btn-lg btn-primary btn-block mb-3\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(_vm._s(_vm.isProcessing ? \"Processing...\" : \"Save\"))]),_c('router-link',{attrs:{\"to\":\"/admin/users\"}},[_c('button',{staticClass:\"btn btn-lg btn-block btn-outline-dark\",attrs:{\"type\":\"button\"}},[_vm._v(\"Back\")])])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center mb-4\"},[_c('h1',{staticClass:\"h3 mb-3 font-weight-normal\"},[_vm._v(\"Edit User\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container py-5\">\n    <form class=\"w-100\" @submit.stop.prevent=\"handleSubmit\">\n      <div class=\"text-center mb-4\">\n        <h1 class=\"h3 mb-3 font-weight-normal\">Edit User</h1>\n      </div>\n\n      <div class=\"form-label-group mb-2\">\n        <label for=\"name\">Name</label>\n        <input\n          id=\"name\"\n          v-model=\"user.name\"\n          name=\"name\"\n          type=\"text\"\n          class=\"form-control\"\n          placeholder=\"name\"\n          required\n          autofocus\n        />\n      </div>\n\n      <div class=\"form-label-group mb-2\">\n        <label for=\"email\">Email</label>\n        <input\n          id=\"email\"\n          v-model=\"user.email\"\n          name=\"email\"\n          type=\"email\"\n          class=\"form-control\"\n          placeholder=\"email\"\n          required\n        />\n      </div>\n\n      <div class=\"form-label-group mb-3\">\n        <label for=\"password\">Password</label>\n        <span\n          class=\"warning\"\n          :style=\"{visibility: passwordHint ? 'visible' : 'hidden'}\"\n        >The password length should be greater than 8.</span>\n        <input\n          id=\"password\"\n          v-model=\"user.password\"\n          name=\"password\"\n          type=\"password\"\n          class=\"form-control\"\n          placeholder=\"Password\"\n          required\n        />\n      </div>\n\n      <div class=\"form-label-group mb-3\">\n        <label for=\"password-check\">Password Check</label>\n        <span\n          class=\"warning\"\n          :style=\"{visibility: passwordCheckHint ? 'visible' : 'hidden'}\"\n        >Does not match the password above.</span>\n        <input\n          id=\"password-check\"\n          v-model=\"user.passwordCheck\"\n          name=\"passwordCheck\"\n          type=\"password\"\n          class=\"form-control\"\n          placeholder=\"Password\"\n          required\n        />\n      </div>\n\n      <div class=\"form-label-group mb-2\">\n        <label for=\"isAdmin\">Admin?</label>\n        <select name=\"isAdmin\" id=\"isAdmin\" v-model=\"user.isAdmin\" class=\"form-control\">\n          <option selected value=\"1\">Yes</option>\n          <option value=\"0\">No</option>\n        </select>\n      </div>\n\n      <button\n        class=\"btn btn-lg btn-primary btn-block mb-3\"\n        type=\"submit\"\n        :disabled=\"isProcessing\"\n      >{{isProcessing ? \"Processing...\" : \"Save\"}}</button>\n\n      <router-link to=\"/admin/users\">\n        <button type=\"button\" class=\"btn btn-lg btn-block btn-outline-dark\">Back</button>\n      </router-link>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  name: \"AdminEditForm\",\n  props: {\n    initialUser: {\n      type: Object,\n      default: () => ({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        passwordCheck: \"\",\n        isAdmin: -2\n      })\n    }\n  },\n  data() {\n    return {\n      user: {\n        id: -1,\n        name: \"\",\n        password: \"\",\n        passwordCheck: \"\",\n        isAdmin: -1\n      },\n      isProcessing: false,\n      passwordHint: false,\n      passwordCheckHint: false\n    };\n  },\n  created() {\n    this.user = {\n      ...this.user,\n      ...this.initialUser\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"])\n  },\n  methods: {\n    async handleSubmit(e) {\n      try {\n        this.isProcessing = true;\n        if (\n          !this.user.name ||\n          !this.user.email ||\n          !this.user.password ||\n          !this.user.passwordCheck ||\n          !this.user.isAdmin\n        ) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請確認已填寫所有欄位\"\n          });\n          this.isProcessing = false;\n          return;\n        }\n        if (this.user.password !== this.user.passwordCheck) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"兩次輸入的密碼不同，請確認\"\n          });\n          this.user.passwordCheck = \"\";\n          this.isProcessing = false;\n          return;\n        }\n        if (this.user.password.length < 8) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"密碼長度需大於8\"\n          });\n          this.user.passwordCheck = \"\";\n          this.isProcessing = false;\n          return;\n        }\n        if (this.user.isAdmin === -1) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請選擇權限\"\n          });\n          this.user.isAdmin = -1;\n          this.user.passwordCheck = \"\";\n          this.isProcessing = false;\n          return;\n        }\n        const form = e.target;\n        const formData = new FormData(form);\n        this.$emit(\"after-submit\", formData);\n      } catch (err) {\n        Toast.fire({\n          icon: \"error\",\n          title: err\n        });\n        this.isProcessing = false;\n      }\n    }\n  },\n  watch: {\n    initialUser(user) {\n      this.user = {\n        ...this.user,\n        ...user\n      };\n      this.user.isAdmin = -1;\n    },\n    user: {\n      handler: function() {\n        if (this.user.password !== this.user.passwordCheck) {\n          this.passwordCheckHint = true;\n        } else {\n          this.passwordCheckHint = false;\n        }\n        this.user.password.length < 8\n          ? (this.passwordHint = true)\n          : (this.passwordHint = false);\n        if (this.user.password !== this.user.passwordCheck) {\n          this.passwordCheckHint = true;\n        } else {\n          this.passwordCheckHint = false;\n        }\n      },\n      deep: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n.warning {\n  margin-left: 5px;\n  color: red;\n  font-size: 18px;\n  font-weight: bold;\n}\na:hover {\n  text-decoration: none;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminEditForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminEditForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminEditForm.vue?vue&type=template&id=0806cd1d&scoped=true&\"\nimport script from \"./AdminEditForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminEditForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminEditForm.vue?vue&type=style&index=0&id=0806cd1d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0806cd1d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <Navbar />\n    <br />\n    <br />\n    <br />\n    <AdminCreateForm :initial-user=\"user\" @after-submit=\"handleAfterSubmit\" />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport Navbar from \"./../components/Navbar\";\nimport AdminCreateForm from \"./../components/AdminEditForm\";\nimport adminAPI from \"./../apis/admin\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  name: \"AdminEditUser\",\n  components: {\n    Navbar,\n    AdminCreateForm\n  },\n  data() {\n    return {\n      user: {\n        id: -1,\n        name: \"\",\n        isAdmin: -1\n      }\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"])\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.fetchUser(id);\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        const res = await adminAPI.getUser({ userId });\n        const { data, statusText } = res;\n        if (statusText !== \"OK\") {\n          throw new Error(data.message);\n        }\n        this.user = data.user;\n      } catch (err) {\n        Toast.fire({\n          icon: \"error\",\n          title: err\n        });\n      }\n    },\n    async handleAfterSubmit(formData) {\n      try {\n        const userId = this.user.id;\n        const { data, statusText } = await adminAPI.putUser({\n          formData,\n          userId\n        });\n        if (statusText !== \"OK\") {\n          throw new Error(data.message);\n        }\n        Toast.fire({\n          icon: \"success\",\n          title: \"更新使用者成功\"\n        });\n        this.$router.push(\"/admin/users\");\n      } catch (err) {\n        Toast.fire({\n          icon: \"error\",\n          title: err\n        });\n      }\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminEditUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminEditUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminEditUser.vue?vue&type=template&id=468f83d0&\"\nimport script from \"./AdminEditUser.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminEditUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminEditForm.vue?vue&type=style&index=0&id=0806cd1d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminEditForm.vue?vue&type=style&index=0&id=0806cd1d&scoped=true&lang=css&\"","// ./src/apis/admin.js\nimport { apiHelper } from './../utils/helpers'\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  getUsers() {\n    return apiHelper.get(`/admin/users`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  getUser({ userId }) {\n    return apiHelper.get(`admin/users/${userId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  postUser({ formData }) {\n    return apiHelper.post(`/admin/users/create`, formData, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  putUser({ formData, userId }) {\n    return apiHelper.put(`/admin/users/edit/${userId}`, formData, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  putRole({ userId }) {\n    return apiHelper.put(`/admin/users/${userId}/put-role`, {}, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  deleteUser({ userId }) {\n    return apiHelper.delete(`/admin/users/${userId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-lg fixed-top navbar-dark bg-dark\"},[_c('router-link',{staticClass:\"navbar-brand\",attrs:{\"to\":\"/chatroom\"}},[_vm._v(\"Chatroom\")]),_vm._m(0),_c('div',{staticClass:\"navbar-collapse collapse navbar-center\",attrs:{\"id\":\"navbarSupportedContent\"}},[_c('div',{staticClass:\"ml-auto d-flex align-items-center navbar-collapse-center\"},[(_vm.currentUser.isAdmin)?_c('router-link',{attrs:{\"id\":\"admin\",\"to\":\"/admin/users\"}},[_c('h4',[_vm._v(\"管理員後台\")])]):_vm._e(),_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",attrs:{\"id\":\"logout\",\"type\":\"button\"},on:{\"click\":_vm.logout}},[_c('h5',[_vm._v(\"登出\")])]),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/andy922200/chatroom-nodejs-vue\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fab', 'github']}})],1)],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"navbar-toggler\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"}},[_c('span',{staticClass:\"navbar-toggler-icon\"})])}]\n\nexport { render, staticRenderFns }","// ./src/components/Navbar.vue\n<template>\n  <nav class=\"navbar navbar-expand-lg fixed-top navbar-dark bg-dark\">\n    <router-link class=\"navbar-brand\" to=\"/chatroom\">Chatroom</router-link>\n\n    <button\n      class=\"navbar-toggler\"\n      type=\"button\"\n      data-toggle=\"collapse\"\n      data-target=\"#navbarSupportedContent\"\n      aria-controls=\"navbarSupportedContent\"\n      aria-expanded=\"false\"\n      aria-label=\"Toggle navigation\"\n    >\n      <span class=\"navbar-toggler-icon\" />\n    </button>\n    <div id=\"navbarSupportedContent\" class=\"navbar-collapse collapse navbar-center\">\n      <div class=\"ml-auto d-flex align-items-center navbar-collapse-center\">\n        <router-link v-if=\"currentUser.isAdmin\" id=\"admin\" to=\"/admin/users\">\n          <h4>管理員後台</h4>\n        </router-link>\n        <button id=\"logout\" type=\"button\" class=\"btn btn-sm btn-outline-danger\" @click=\"logout\">\n          <h5>登出</h5>\n        </button>\n        <a target=\"_blank\" href=\"https://github.com/andy922200/chatroom-nodejs-vue\">\n          <font-awesome-icon :icon=\"['fab', 'github']\" />\n        </a>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  name: \"Navbar\",\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"])\n  },\n  methods: {\n    logout() {\n      this.$store.commit(\"revokeAuthentication\");\n      this.$router.push(\"/signin\");\n      Toast.fire({\n        icon: \"success\",\n        title: \"成功登出\"\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n#navbarSupportedContent a {\n  font-size: 30px;\n  color: white;\n  margin: 0px auto;\n  text-decoration: none;\n}\n#navbarSupportedContent h4 {\n  font-size: 20px;\n  margin: 0px auto;\n}\n#logout {\n  padding-top: 4px;\n  margin-right: 10px;\n}\n#logout h5 {\n  margin-bottom: 0px;\n}\n@media (max-width: 991px) {\n  .navbar-collapse {\n    margin-right: 56px;\n  }\n}\n@media (min-width: 992px) {\n  #navbarSupportedContent h4 {\n    margin-right: 10px;\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=3362cca6&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=3362cca6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3362cca6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}